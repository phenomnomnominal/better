## API Report File for "@betterer/betterer"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { BettererConstraintResult } from '@betterer/constraints';
import { BettererError } from '@betterer/errors';
import { BettererLogs } from '@betterer/logger';

// Warning: (ae-missing-release-tag) "betterer" is exported by the package, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public
export function betterer(options?: BettererOptionsStart): Promise<BettererSuiteSummary>;

// @public (undocumented)
export namespace betterer {
    var // (undocumented)
    merge: merge;
    var // (undocumented)
    results: results;
    var // (undocumented)
    runner: runner;
    var // (undocumented)
    watch: watch;
}

// Warning: (ae-incompatible-release-tags) The symbol "BettererConfig" is marked as @public, but its signature references "BettererConfigBase" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererConfig" is marked as @public, but its signature references "BettererConfigStart" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererConfig" is marked as @public, but its signature references "BettererConfigWatch" which is marked as @internal
//
// @public
export interface BettererConfig extends BettererConfigBase, BettererConfigStart, BettererConfigWatch {
}

// @internal
export interface BettererConfigBase {
    cache: boolean;
    cachePath: string;
    configPaths: BettererConfigPaths;
    cwd: string;
    filters: BettererConfigFilters;
    logo: boolean;
    reporter: BettererReporter;
    resultsPath: string;
    tsconfigPath: string | null;
    versionControlPath: string;
    workers: number;
}

// @public
export type BettererConfigExcludes = ReadonlyArray<RegExp>;

// @public
export type BettererConfigFilters = ReadonlyArray<RegExp>;

// @public
export type BettererConfigIgnores = ReadonlyArray<string>;

// @public
export type BettererConfigIncludes = ReadonlyArray<string>;

// @public
export type BettererConfigPaths = ReadonlyArray<string>;

// @internal
export interface BettererConfigStart {
    ci: boolean;
    excludes: BettererConfigExcludes;
    includes: BettererConfigIncludes;
    precommit: boolean;
    strict: boolean;
    update: boolean;
}

// @internal
export interface BettererConfigWatch {
    ignores: BettererConfigIgnores;
    watch: boolean;
}

// @public
export interface BettererContext {
    readonly config: BettererConfig;
    options(optionsOverride: BettererOptionsOverride): Promise<void>;
    stop(): Promise<BettererSuiteSummary>;
}

// @public
export interface BettererContextSummary {
    readonly config: BettererConfig;
    lastSuite: BettererSuiteSummary;
    suites: BettererSuiteSummaries;
}

// @public
export type BettererDelta = {
    readonly baseline: number;
    readonly diff: number;
    readonly result: number;
} | {
    readonly baseline: null;
    readonly diff: 0;
    readonly result: number;
};

// @public
export type BettererDeserialise<DeserialisedType, SerialisedType> = (serialised: SerialisedType, resultsPath: string) => DeserialisedType;

// @public
export interface BettererDiff<DiffType = null> {
    diff: DiffType;
    logs: BettererLogs;
}

// @public
export type BettererDiffer<DeserialisedType, DiffType> = (expected: DeserialisedType, result: DeserialisedType) => BettererDiff<DiffType>;

// @public
export interface BettererFile extends BettererFileBase {
    addIssue(start: number, end: number, message: string, hash?: string): void;
    addIssue(line: number, col: number, length: number, message: string, hash?: string): void;
    addIssue(startLine: number, startCol: number, endLine: number, endCol: number, message: string, hash?: string): void;
}

// @public
export interface BettererFileBase {
    readonly absolutePath: string;
    readonly hash: string;
    readonly issues: BettererFileIssues;
    readonly key: string;
}

// @public
export interface BettererFileDiff {
    existing?: BettererFileIssuesSerialised;
    fixed?: BettererFileIssuesSerialised;
    new?: BettererFileIssuesSerialised;
}

// Warning: (ae-unresolved-link) The @link reference could not be resolved: No member was found with name "cwd"
//
// @public
export type BettererFileGlobs = ReadonlyArray<string | ReadonlyArray<string>>;

// @public
export interface BettererFileIssue {
    readonly column: number;
    readonly hash: string;
    readonly length: number;
    readonly line: number;
    readonly message: string;
}

// @public
export type BettererFileIssues = ReadonlyArray<BettererFileIssue>;

// @public
export type BettererFileIssueSerialised = [line: number, column: number, length: number, message: string, hash: string];

// @public
export type BettererFileIssuesSerialised = ReadonlyArray<BettererFileIssueSerialised>;

// @public
export type BettererFilePath = string;

// @public
export type BettererFilePaths = ReadonlyArray<BettererFilePath>;

// @public
export type BettererFilePatterns = ReadonlyArray<RegExp | ReadonlyArray<RegExp>>;

// @public
export interface BettererFileResolver {
    readonly baseDirectory: string;
    resolve(...pathSegments: Array<string>): string;
    validate(filePaths: BettererFilePaths): Promise<BettererFilePaths>;
}

// @public
export type BettererFilesDiff = Record<string, BettererFileDiff>;

// Warning: (ae-forgotten-export) The symbol "BettererFileTestBase" needs to be exported by the entry point index.d.ts
//
// @public
export class BettererFileTest implements BettererFileTestBase {
    constructor(fileTest: BettererFileTestFunction);
    // Warning: (ae-forgotten-export) The symbol "BettererFileTestConfig" needs to be exported by the entry point index.d.ts
    readonly config: BettererFileTestConfig;
    constraint(constraintOverride: BettererTestConstraint<BettererFileTestResult>): this;
    deadline(deadlineOverride: BettererTestDeadline): this;
    exclude(...excludePatterns: BettererFilePatterns): this;
    goal(goalOverride: BettererTestGoal<BettererFileTestResult>): this;
    include(...includePatterns: BettererFileGlobs): this;
    get isOnly(): boolean;
    get isSkipped(): boolean;
    only(): this;
    skip(): this;
}

// @public
export type BettererFileTestDiff = BettererDiff<BettererFilesDiff>;

// Warning: (ae-forgotten-export) The symbol "MaybeAsync" needs to be exported by the entry point index.d.ts
//
// @public
export type BettererFileTestFunction = (filePaths: BettererFilePaths, fileTestResult: BettererFileTestResult, resolver: BettererFileResolver) => MaybeAsync<void>;

// @public
export interface BettererFileTestResult {
    addFile(absolutePath: string, fileText: string): BettererFile;
    getIssues(absolutePath?: string): BettererFileIssues;
}

// @public
export type BettererFileTestResultSerialised = Record<string, BettererFileIssuesSerialised>;

// @public
export interface BettererFileTestResultSummary {
    details: BettererFileTestResultSummaryDetails;
    isFileTest: true;
    name: string;
}

// @public
export type BettererFileTestResultSummaryDetails = Record<string, BettererFileIssues>;

// @internal
export interface BettererOptionsBase {
    cache?: boolean;
    cachePath?: string;
    configPaths?: BettererOptionsPaths;
    cwd?: string;
    filters?: BettererOptionsFilters;
    logo?: boolean;
    reporters?: BettererOptionsReporters;
    resultsPath?: string;
    silent?: boolean;
    tsconfigPath?: string;
    workers?: number | boolean;
}

// @public
export type BettererOptionsExcludes = Array<string | RegExp> | string | RegExp;

// @public
export type BettererOptionsFilters = Array<string | RegExp> | string | RegExp;

// @public
export type BettererOptionsIgnores = Array<string>;

// @public
export type BettererOptionsIncludes = Array<string> | string;

// @public
export interface BettererOptionsMerge {
    contents?: Array<string>;
    cwd?: string;
    resultsPath?: string;
}

// @public
export interface BettererOptionsOverride {
    filters?: BettererOptionsFilters;
    ignores?: BettererOptionsIgnores;
    reporters?: BettererOptionsReporters;
}

// @public
export type BettererOptionsPaths = Array<string> | string;

// @public
export type BettererOptionsReporters = Array<string | BettererReporter>;

// @public
export interface BettererOptionsResults {
    configPaths?: BettererOptionsPaths;
    cwd?: string;
    excludes?: BettererOptionsExcludes;
    filters?: BettererOptionsFilters;
    includes?: BettererOptionsIncludes;
    resultsPath?: string;
}

// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsRunner" is marked as @public, but its signature references "BettererOptionsBase" which is marked as @internal
//
// @public
export type BettererOptionsRunner = BettererOptionsBase;

// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsStart" is marked as @public, but its signature references "BettererOptionsStartCI" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsStart" is marked as @public, but its signature references "BettererOptionsStartDefault" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsStart" is marked as @public, but its signature references "BettererOptionsStartPrecommit" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsStart" is marked as @public, but its signature references "BettererOptionsStartStrict" which is marked as @internal
// Warning: (ae-incompatible-release-tags) The symbol "BettererOptionsStart" is marked as @public, but its signature references "BettererOptionsStartUpdate" which is marked as @internal
//
// @public
export type BettererOptionsStart = BettererOptionsStartCI | BettererOptionsStartDefault | BettererOptionsStartPrecommit | BettererOptionsStartStrict | BettererOptionsStartUpdate;

// @internal
export interface BettererOptionsStartBase extends BettererOptionsBase {
    excludes?: BettererOptionsExcludes;
    includes?: BettererOptionsIncludes;
}

// @internal
export interface BettererOptionsStartCI extends BettererOptionsStartBase {
    // (undocumented)
    ci?: true;
    // (undocumented)
    precommit?: false;
    // (undocumented)
    strict?: true;
    // (undocumented)
    update?: false;
    // (undocumented)
    watch?: false;
}

// @internal
export interface BettererOptionsStartDefault extends BettererOptionsStartBase {
    // (undocumented)
    ci?: false;
    // (undocumented)
    precommit?: false;
    // (undocumented)
    strict?: false;
    // (undocumented)
    update?: false;
    // (undocumented)
    watch?: false;
}

// @internal
export interface BettererOptionsStartPrecommit extends BettererOptionsStartBase {
    // (undocumented)
    ci?: false;
    // (undocumented)
    precommit?: true;
    // (undocumented)
    strict?: boolean;
    // (undocumented)
    update?: false;
    // (undocumented)
    watch?: false;
}

// @internal
export interface BettererOptionsStartStrict extends BettererOptionsStartBase {
    // (undocumented)
    ci?: false;
    // (undocumented)
    precommit?: false;
    // (undocumented)
    strict?: true;
    // (undocumented)
    update?: false;
    // (undocumented)
    watch?: false;
}

// @internal
export interface BettererOptionsStartUpdate extends BettererOptionsStartBase {
    // (undocumented)
    ci?: false;
    // (undocumented)
    precommit?: false;
    // (undocumented)
    strict?: false;
    // (undocumented)
    update?: true;
    // (undocumented)
    watch?: false;
}

// @public
export interface BettererOptionsWatch extends BettererOptionsRunner {
    ignores?: BettererOptionsIgnores;
    watch?: true;
}

// @public
export type BettererPrinter<SerialisedType> = (serialised: SerialisedType) => MaybeAsync<string>;

// @public
export type BettererProgress<DeserialisedType> = (baseline: DeserialisedType | null, result: DeserialisedType | null) => MaybeAsync<BettererDelta | null>;

// @public
export interface BettererReporter {
    configError?(config: unknown, error: BettererError): Promise<void> | void;
    contextEnd?(contextSummary: BettererContextSummary): Promise<void> | void;
    contextError?(context: BettererContext, error: BettererError): Promise<void> | void;
    contextStart?(context: BettererContext, lifecycle: Promise<BettererContextSummary>): Promise<void> | void;
    runEnd?(runSummary: BettererRunSummary): Promise<void> | void;
    runError?(run: BettererRun, error: BettererError): Promise<void> | void;
    runStart?(run: BettererRun, lifecycle: Promise<BettererRunSummary>): Promise<void> | void;
    suiteEnd?(suiteSummary: BettererSuiteSummary): Promise<void> | void;
    suiteError?(suite: BettererSuite, error: BettererError): Promise<void> | void;
    suiteStart?(suite: BettererSuite, lifecycle: Promise<BettererSuiteSummary>): Promise<void> | void;
}

// @public
export interface BettererResult {
    // (undocumented)
    value: unknown;
}

// @public
export interface BettererResultsSummary {
    resultSummaries: BettererResultSummaries;
}

// @public
export type BettererResultSummaries = ReadonlyArray<BettererResultSummary>;

// @public
export type BettererResultSummary = BettererTestResultSummary | BettererFileTestResultSummary;

// @public
export interface BettererRun {
    readonly baseline: BettererResult | null;
    readonly expected: BettererResult | null;
    readonly filePaths: BettererFilePaths | null;
    readonly isNew: boolean;
    readonly isSkipped: boolean;
    readonly name: string;
}

// @public
export interface BettererRunner {
    options(optionsOverride: BettererOptionsOverride): void;
    queue(filePaths?: string | BettererFilePaths): Promise<void>;
    stop(): Promise<BettererSuiteSummary>;
    stop(force: true): Promise<BettererSuiteSummary | null>;
}

// @public
export type BettererRuns = ReadonlyArray<BettererRun>;

// @public
export type BettererRunSummaries = Array<BettererRunSummary>;

// @public
export interface BettererRunSummary extends BettererRun {
    readonly delta: BettererDelta | null;
    readonly diff: BettererDiff | null;
    readonly error: Error | null;
    readonly isBetter: boolean;
    readonly isComplete: boolean;
    readonly isExpired: boolean;
    readonly isFailed: boolean;
    readonly isSame: boolean;
    readonly isUpdated: boolean;
    readonly isWorse: boolean;
    // (undocumented)
    readonly printed: string | null;
    readonly result: BettererResult | null;
    readonly timestamp: number;
}

// @public
export type BettererSerialise<DeserialisedType, SerialisedType> = (result: DeserialisedType, resultsPath: string) => SerialisedType;

// @public
export interface BettererSerialiser<DeserialisedType, SerialisedType = DeserialisedType> {
    // (undocumented)
    deserialise: BettererDeserialise<DeserialisedType, SerialisedType>;
    // (undocumented)
    serialise: BettererSerialise<DeserialisedType, SerialisedType>;
}

// @public
export interface BettererSuite {
    // Warning: (ae-unresolved-link) The @link reference could not be resolved: No member was found with name "includes"
    // Warning: (ae-unresolved-link) The @link reference could not be resolved: No member was found with name "excludes"
    readonly filePaths: BettererFilePaths;
    readonly runs: BettererRuns;
}

// @public
export type BettererSuiteSummaries = ReadonlyArray<BettererSuiteSummary>;

// @public
export interface BettererSuiteSummary extends BettererSuite {
    readonly better: BettererRunSummaries;
    readonly changed: BettererTestNames;
    readonly completed: BettererRunSummaries;
    readonly expired: BettererRunSummaries;
    readonly failed: BettererRunSummaries;
    readonly new: BettererRunSummaries;
    readonly ran: BettererRunSummaries;
    readonly runSummaries: BettererRunSummaries;
    readonly same: BettererRunSummaries;
    readonly skipped: BettererRunSummaries;
    readonly updated: BettererRunSummaries;
    readonly worse: BettererRunSummaries;
}

// Warning: (ae-incompatible-release-tags) The symbol "BettererTest" is marked as @public, but its signature references "BettererTestBase" which is marked as @internal
//
// @public
export class BettererTest<DeserialisedType, SerialisedType = DeserialisedType, DiffType = null> implements BettererTestBase<DeserialisedType, SerialisedType, DiffType> {
    constructor(options: BettererTestOptions<DeserialisedType, SerialisedType, DiffType>);
    readonly config: BettererTestConfig<DeserialisedType, SerialisedType, DiffType>;
    constraint(constraintOverride: BettererTestConstraint<DeserialisedType>): this;
    deadline(deadlineOverride: BettererTestDeadline): this;
    goal(goalOverride: BettererTestGoal<DeserialisedType>): this;
    get isOnly(): boolean;
    get isSkipped(): boolean;
    only(): this;
    skip(): this;
}

// @internal
export interface BettererTestBase<DeserialisedType = unknown, SerialisedType = DeserialisedType, DiffType = null> {
    // (undocumented)
    config: BettererTestConfig<DeserialisedType, SerialisedType, DiffType>;
    // (undocumented)
    constraint(constraintOverride: BettererTestConstraint<DeserialisedType>): this;
    // (undocumented)
    goal(goalOverride: BettererTestGoal<DeserialisedType>): this;
    // (undocumented)
    isOnly: boolean;
    // (undocumented)
    isSkipped: boolean;
    // (undocumented)
    only(): this;
    // (undocumented)
    skip(): this;
}

// @public
export interface BettererTestConfig<DeserialisedType = unknown, SerialisedType = DeserialisedType, DiffType = null> {
    // (undocumented)
    configPath: string;
    // (undocumented)
    constraint: BettererTestConstraint<DeserialisedType>;
    // (undocumented)
    deadline: number;
    // (undocumented)
    differ: BettererDiffer<DeserialisedType, DiffType>;
    // (undocumented)
    goal: BettererTestGoal<DeserialisedType>;
    // (undocumented)
    printer: BettererPrinter<SerialisedType>;
    // (undocumented)
    progress: BettererProgress<DeserialisedType>;
    // (undocumented)
    serialiser: BettererSerialiser<DeserialisedType, SerialisedType>;
    // (undocumented)
    test: BettererTestFunction<DeserialisedType>;
}

// @public
export type BettererTestConstraint<DeserialisedType> = (result: DeserialisedType, expected: DeserialisedType) => MaybeAsync<BettererConstraintResult>;

// @public
export type BettererTestDeadline = Date | string;

// @public
export type BettererTestFunction<DeserialisedType> = (run: BettererRun) => MaybeAsync<DeserialisedType>;

// @public
export type BettererTestGoal<DeserialisedType> = (result: DeserialisedType) => MaybeAsync<boolean>;

// @public
export type BettererTestNames = ReadonlyArray<string>;

// @public
export type BettererTestOptions<DeserialisedType = unknown, SerialisedType = DeserialisedType, DiffType = null> = BettererTestOptionsBasic | BettererTestOptionsComplex<DeserialisedType, SerialisedType, DiffType>;

// @public
export interface BettererTestOptionsBasic {
    constraint: BettererTestConstraint<number>;
    deadline?: BettererTestDeadline;
    goal?: number | BettererTestGoal<number>;
    test: BettererTestFunction<number>;
}

// @public
export interface BettererTestOptionsComplex<DeserialisedType, SerialisedType, DiffType> {
    constraint: BettererTestConstraint<DeserialisedType>;
    deadline?: BettererTestDeadline;
    differ: BettererDiffer<DeserialisedType, DiffType>;
    goal: DeserialisedType | BettererTestGoal<DeserialisedType>;
    printer?: BettererPrinter<SerialisedType>;
    progress?: BettererProgress<DeserialisedType>;
    serialiser: BettererSerialiser<DeserialisedType, SerialisedType>;
    test: BettererTestFunction<DeserialisedType>;
}

// @public
export interface BettererTestResultSummary {
    details: BettererTestResultSummaryDetails;
    isFileTest: false;
    name: string;
}

// @public
export type BettererTestResultSummaryDetails = string;

// @public
export function merge(options?: BettererOptionsMerge): Promise<void>;

// @public
export function results(options?: BettererOptionsResults): Promise<BettererResultsSummary>;

// @public
export function runner(options?: BettererOptionsRunner): Promise<BettererRunner>;

// @public
export function watch(options?: BettererOptionsWatch): Promise<BettererRunner>;

```
